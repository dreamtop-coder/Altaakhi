{% extends 'base.html' %}
{% block content %}
<div style="padding:18px;max-width:720px;">
    <h2>{{ title }}</h2>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <!-- Select2 for suppliers search/multi-select -->
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
        <script>
        (function(){
            document.addEventListener('DOMContentLoaded', function(){
                try{
                    var el = document.getElementById('id_suppliers');
                    if(el){
                        $(el).select2({
                            placeholder: 'اختر موردين...',
                            allowClear: true,
                            width: '100%'
                        });
                    }
                }catch(e){/* ignore */}
            });
        })();
        </script>
        <div style="margin-top:12px;"><button type="submit" style="padding:8px;background:#32405a;color:#fff;border:none;">حفظ</button>
        <a href="{% url 'items_list' %}" style="margin-left:12px;">إلغاء</a></div>
    </form>
</div>
{% endblock %}
